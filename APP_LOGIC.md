# APP_LOGIC: 里山樹木管理アプリ

## 🌳 概要
圃場（ストックヤード）での樹木在庫を管理するためのNext.js PWA。モバイルファーストの入力、QRラベル発行、Supabaseとのリアルタイム同期に焦点を当てる。

## 🛠 技術スタック
- **フレームワーク**: Next.js 15 (App Router)
- **データベース/認証**: Supabase
- **スタイリング**: Tailwind CSS 4
- **印刷**: AirPrint (Brother RJ-4250WBを想定)

## 🏹 核心理念 (言霊)
- **「現場の孤独をなくし、情報の架け橋を作る」**: 広い圃場と事務をクラウドで直結し、二度手間（手書き→PC入力）を排除。
- **「データは現場で生まれる」**: 現場でのスマホ操作がそのまま台帳になり、事務所のExcel/スプシへ流れる。

## 🚀 実装済み機能 (Phase 2 完了)
- [x] **ダッシュボード**: 在庫統計（数・金額）のリアルタイム集計。
- [x] **樹木一覧**: 多彩なフィルタと**CSV出力**（Excel/スプシ連携用）。
- [x] **樹木詳細**: 写真アップロード（1200px自動圧縮）と状態管理。
- [x] **QRラベル発行**: 4インチ現場用ラベルの印刷（AirPrint対応）。
- [x] **QRスキャナー**: スマホカメラでの瞬間識別と遷移。
- [x] **出荷管理**: 複数本の一括出荷と出荷履歴の記録。
- [x] **PWA**: ホーム画面からの即起動とアプリ化。

## 🔜 Phase 3 / 今後の展望
- [ ] **n8n 自動連携**: スマホ登録した瞬間にGoogleスプレッドシートの行が増える「全自動同期」。
- [ ] **予約管理**: 商談中の在庫取り置きと期限管理の強化。
- [ ] **複数枚写真**: 樹一本に対して複数の角度から記録。
- [ ] **圃場マスター化**: 場所名の一括編集や選択形式。
